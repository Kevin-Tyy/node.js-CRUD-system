
const { body, check, validationResult } = require('express-validator');

const viewAll = (req, res) => {
  res.render("viewAll");
};
const addNew = (req, res) => {
  res.render("addNew")
};
const validator = [
    check('email','Email address is required').isEmpty,
    check('lname','Name is required').isEmpty,
    check('lname','Name is required').isEmpty,
    check('description','job description is required').isEmpty,
    check('salary','salary is required').isEmpty,
]

const addNewpost = (req, res) => {
    const errors  = validationResult();

  
    if(errors){
        const error_msg = '';
        errors.forEach(error => {
            error_msg += error.msg + '<br>';
        });

        req.flash('error', error_msg);
        res.redirect('/addNew');
    }
    else{
        res.render('sucess')
    }

};
module.exports = {
  viewAll,
  addNew,
  addNewpost,
  validator
};